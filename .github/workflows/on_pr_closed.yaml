name: "On PR closed"

on:
  pull_request:
    types: [closed]

jobs:
  print:
    runs-on: ubuntu-latest
    steps:
      - name: "Print contexts"
        run: | 
          echo "${{ toJson(github.event.pull_request) }}"
  
  list-files:
    if: ${{ github.event.pull_request.merged == 'true' }}
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      - name: "list files"
        run: |
          listFiles=$(git diff --name-only HEAD HEAD^)

          for file in $listFiles
          do 
              echo $file
          done 
